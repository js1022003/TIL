# 실행 컨텍스트

* 소스코드의 타입</br>
  - 전역 코드
  - 함수 코드
  - eval 코드
  - 모듈 코드
    
* 소스코드의 평가와 실행 </br>
자바스크립트 엔진은 소스코드를 평가와 실행 과정으로 나누어 처리
  - 평가 과정
  실행 컨텍스트 생성, 변수, 함수 등의 선언문만 먼저 실행하여 생성된 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록
  - 실행 과정
  평가 과정이 끝나면, 소스코드가 순차적으로 실행 즉 런타임이 시작된다. 실행 컨텍스트에서 필요한 정보 취득하고, 실행 결과를 다시 등록

* 실행 컨텍스트의 역할 
  1. 전역 코드 평가
  2. 전역 코드 실행
  3. 함수 코드 평가
  4. 함수 코드 실행

* 실행 컨텍스트 스택 </br>
실행 컨텍스트 스택은 코드의 실행 순서를 관리, 실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트는 언제나 현재 실행 중인 코드의 실행 컨텍스트

* 렉시컬 환경 </br>
렉시컬 환경은 식별자와 식별자에 바인딩된 값, 그리고 상위 스코프에 대한 참조를 기록하는 자료구조로 실행 컨텍스트를 구성하는 컴포넌트다. </br>
렉시컬 환경은 스코프와 식별자를 관리
  1. 환경 레코드: 스코프에 포함된 식별자를 등록하고 등록된 식별자에 바인딩된 값을 관리하는 저장소
  2. 외부 렉시컬 환경에 대한 참조: 해당 실행 컨텍스트를 생성한 소스코드를 포함하는 상위 코드의 렉시컬 환경이다. 
 
* 실행 컨텍스트의 생성과 식별자 검색 과정 
- 전역 객체 생성
- 전역 코드 평가
  - 전역 실행 컨텍스트 생성 </br>
  - 전역 렉시컬 환경 생성
    - 전역 환경 레코드 생성 (var 와 let,const 키워드로 선언한 전역 변수를 구분)
      1. 객체 환경 레코드 생성 (var 선언, 초기화)
      2. 선언적 환경 레코드 생성 (let, const 선언)
    - this 바인딩
    - 외부 렉시컬 환경에 대한 참조
- 전역 코드 실행

### TDZ (Temporal Dead Zone)
var 키워드로 선언한 변수는 코드 평가 시점에서 선언과 초기화 단계가 동시에 일어난다. </br>
하지만 let, const 로 선언한 변수는 선언 단계와 초기화 단계가 분리되어 진행한다. 따라서 초기화 단계, 즉 런타임에 실행 흐름이 </br>
변수 선언문에 도달하기 전까지 일시적 사각 지대(TDZ)에 빠지게 된다. let, const 키워드로 선언한 변수도 호이스팅이 일어난다.
